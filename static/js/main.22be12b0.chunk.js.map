{"version":3,"sources":["components/PostList.module.css","components/App.module.css","components/DumbPost.module.css","components/PostTags.module.css","components/Navbar.module.css","components/PostTags.js","components/PostDate.js","components/DumbPost.js","utils/index.js","components/About.js","components/Navbar.js","components/Post.js","components/PostList.js","components/App.js","index.js"],"names":["module","exports","header","list","postTitleLink","date","app","main","footer","meta","tag","navbar","PostTags","_ref","tags","filter","_ref2","node","name","map","_ref3","idx","react_default","a","createElement","Fragment","key","Link","className","styles","to","concat","PostDate","dateString","elemProps","Object","objectWithoutProperties","splits","Date","toString","substring","split","unshift","splice","transformedDataString","join","DumbPost","post","this","props","number","document","title","querySelector","script","src","setAttribute","process","async","appendChild","utteranceScript","remove","utterances","markup","createdAt","components_PostDate","labels","edges","length","components_PostTags","dangerouslySetInnerHTML","bodyHTML","__html","React","Component","About","react_apollo_browser_umd","query","gql","_templateObject","loading","error","data","repository","issues","components_DumbPost","Navbar","NavLink","exact","Post","match","Post_templateObject","params","id","issue","PostList","_this","PostList_templateObject","App","components_Navbar","Switch","Route","path","component","href","rel","target","client","ApolloClient","uri","headers","authorization","ReactDOM","render","BrowserRouter","basename","components_App","getElementById"],"mappings":"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","file":"static/js/main.22be12b0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"PostList_header__1P85m\",\"list\":\"PostList_list__SeGo8\",\"postTitleLink\":\"PostList_postTitleLink__1t_I6\",\"date\":\"PostList_date__STrt0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__2_Wif\",\"main\":\"App_main__2W2Jk\",\"footer\":\"App_footer__2PXAv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meta\":\"DumbPost_meta__2vzUM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tag\":\"PostTags_tag__vBZmb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__1fwtz\"};","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styles from \"./PostTags.module.css\";\n\nconst PostTags = ({tags}) => \n  tags\n  .filter(({node: tag}) => tag.name !== \"post\")\n  .map(({node: tag}, idx) => (\n    <React.Fragment key={idx}>\n      {\" \"}\n      <Link className={styles.tag} to={`/posts/tags/${tag.name}`}>{tag.name}</Link>\n    </React.Fragment>\n  ));\n\n  export default PostTags;","import React from 'react';\n\nconst PostDate = ({dateString, ...elemProps}) => {\n  const splits = new Date(dateString).toString().substring(4, 15).split(' ');\n  splits.unshift(splits.splice(1, 1))\n  const transformedDataString = splits.join(' ');\n  return <span {...elemProps}>{transformedDataString}</span>\n}\n\n  export default PostDate;","import React from 'react';\nimport 'github-markdown-css/github-markdown.css'\nimport { createMarkup } from '../utils';\nimport styles from './DumbPost.module.css';\nimport PostTags from \"./PostTags\";\nimport PostDate from \"./PostDate\";\n\nclass DumbPost extends React.Component {\n\n  componentDidMount () {\n    const {post} = this.props;\n    if (!post.number) {\n      return;\n    }\n    document.title = post.title;\n    const main = document.querySelector(\"main\");\n    const script = document.createElement(\"script\");\n    script.src = \"https://utteranc.es/client.js\";\n    script.setAttribute('repo', `${process.env.REACT_APP_USERNAME}/${process.env.REACT_APP_REPO}`);\n    script.setAttribute('issue-number', post.number);\n    script.async = true;\n    main.appendChild(script);\n    this.utteranceScript = script;\n  }  \n\n  componentWillUnmount() {\n    this.utteranceScript.remove();\n    const utterances = document.querySelector(\".utterances\");\n    utterances && utterances.remove();\n  }\n\n  render() {\n    const {post} = this.props;\n    return (\n      <article>\n        {post.createdAt && // don't show header for \"About\" page\n          <header>\n            <h1>{post.title}</h1>  \n             <p className={styles.meta}>\n              Published <PostDate dateString={post.createdAt}/>\n              {post.labels && post.labels.edges.length > 1 &&\n                <React.Fragment>\n                  {\" \"}· tagged with\n                  <PostTags tags={post.labels.edges} />\n                </React.Fragment>\n              }\n            </p>\n          </header>\n        }\n        <div className=\"markdown-body\" dangerouslySetInnerHTML={createMarkup(post.bodyHTML)}></div> \n      </article>\n    );\n  }\n}\n\nexport default DumbPost;","export function createMarkup(markup) {\n  return {__html: markup};\n}","import React from 'react';\nimport { Query } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport DumbPost from './DumbPost';\n\nconst About = () => (\n  <Query\n    query={gql`\n      query {\n        repository(owner:\"${process.env.REACT_APP_USERNAME}\", name:\"${process.env.REACT_APP_REPO}\") {\n          issues(last:1, labels:\"about\") {\n            edges {\n              node {\n                title\n                number\n                bodyHTML\n              }\n            }\n          }\n        }\n      }\n    `}\n  >\n    {({ loading, error, data }) => {\n      if (loading) return <span>Loading...</span>;\n      if (error) return <span>Error :(</span>;\n\n      const post = data.repository.issues.edges[0].node || {bodyHTML: `<div>Nothing here!<div>`};\n      return <DumbPost post={post}/>\n    }}\n  </Query>\n)\n\nexport default About;","import React from 'react';\nimport { NavLink } from \"react-router-dom\";\nimport styles from './Navbar.module.css';\n\nconst Navbar = () => (\n  <nav className={styles.navbar}>\n    <NavLink exact to={'/'}> Home </NavLink>\n    <NavLink to={'/about'}> About </NavLink>\n  </nav>  \n)\n\nexport default Navbar;","\nimport React from 'react';\nimport { Query } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport DumbPost from './DumbPost';\n\nconst Post = ({ match }) => (\n  <Query\n    query={gql`\n      query {\n        repository(owner:\"${process.env.REACT_APP_USERNAME}\", name:\"${process.env.REACT_APP_REPO}\") {\n          issue(number:${match.params.id}) {\n            number\n            title\n            bodyHTML\n            createdAt\n            labels(first: 10) {\n              edges {\n                node { \n                  name\n                }\n              }\n            }\n          }\n        }\n      }\n    `}\n  >\n    {({ loading, error, data }) => {\n      if (loading) return <span>Loading...</span>;\n      if (error) return <span>Not Found :(</span>;\n      return <DumbPost post={data.repository.issue}/>\n    }}\n  </Query>\n)\n\nexport default Post;","\nimport React from 'react';\nimport { Query } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { Link } from \"react-router-dom\";\n\nimport styles from \"./PostList.module.css\";\nimport PostTags from \"./PostTags\";\nimport PostDate from \"./PostDate\";\n\nclass PostList extends React.Component {\n  \n  componentDidMount () {\n    document.title = process.env.REACT_APP_TITLE;\n  }\n\n  render () {\n    // TODO: add pagination\n    const tag = this.props.match.params.tag || \"post\";\n    return <Query\n      query={gql`\n        query {\n          repository(owner:\"${process.env.REACT_APP_USERNAME}\", name:\"${process.env.REACT_APP_REPO}\") {\n            issues(last:100, labels:\"${tag}\", orderBy: {field: CREATED_AT, direction: DESC}) {\n              edges {\n                node {\n                  title\n                  number\n                  createdAt\n                  labels(first: 10) {\n                    edges {\n                      node { \n                        name\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      `}\n    >\n      {({ loading, error, data }) => {\n        if (loading) return <span>Loading...</span>;\n        if (error) return <span>Error :(</span>;\n\n        const {tag} = this.props.match.params;\n        \n        return (\n          <React.Fragment>\n            { tag &&\n              <h1 className={styles.header}>Blog posts tagged \"{tag}\"</h1>\n            }\n            <ul className={styles.list}>\n              {data.repository.issues.edges.map(({node: post}) => (\n                <li key={post.number}>\n                  <PostDate dateString={post.createdAt} className={styles.date}></PostDate>\n                  <Link className={styles.postTitleLink} to={`/posts/${post.number}`}>{post.title}</Link>\n                  <PostTags tags={post.labels.edges} />\n                </li>\n              ))}\n            </ul>\n          </React.Fragment>\n        );\n      }}\n    </Query>;\n  }\n}\n\nexport default PostList;","import React, { Component } from 'react';\nimport { Switch, Route } from \"react-router-dom\";\n\nimport About from './About';\nimport Navbar from './Navbar';\nimport Post from './Post';\nimport PostList from './PostList';\nimport styles from './App.module.css';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className={styles.app}>\n        <Navbar/>\n        <main className={styles.main}>\n          <Switch>\n            <Route exact path=\"/\" component={PostList} />\n            <Route path=\"/posts/tags/:tag\" component={PostList} />\n            <Route path=\"/posts/:id\" component={Post} />\n            <Route path=\"/about\" component={About} />\n            <Route component={()=>\"Not Found :(\"} />\n          </Switch>\n        </main>\n        <footer className={styles.footer}>\n          <hr/>\n          <small>© 2018 Ken Bi. Powered by <a href=\"https://github.com/bpceee/isblog\" rel=\"noopener noreferrer\" target=\"_blank\">isBlog</a></small>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ApolloClient from \"apollo-boost\";\nimport { BrowserRouter } from 'react-router-dom'\nimport { ApolloProvider } from \"react-apollo\";\n\nimport './index.css';\nimport App from './components/App';\n\nconst client = new ApolloClient({\n  uri: \"https://api.github.com/graphql\",\n  headers: {\n    authorization: `Bearer ${process.env.REACT_APP_TOKEN}`\n  }\n});\n\nlet basename = '/';\nif (\n  process.env.NODE_ENV === 'production' \n  && `${process.env.REACT_APP_USERNAME}.github.io` !== process.env.REACT_APP_REPO\n) {\n  basename = process.env.REACT_APP_REPO;\n}\n\nReactDOM.render(\n  <BrowserRouter basename={basename}>\n    <ApolloProvider client={client}>\n      <App />\n    </ApolloProvider>\n  </BrowserRouter>, \n  document.getElementById('root')\n);\n"],"sourceRoot":""}