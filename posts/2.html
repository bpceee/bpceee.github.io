<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="preload" as="font" href="/_next/static/media/710e6adf42e8fe6f-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/7b379c56c483b024-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/7b9ca6a1d31c5662-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/931105f8d96e7f26-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/d9957a565b52891d-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/fbdbe464b9e5cc95-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/1060bab20f18b5c2-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/b626e9f17e6ac9d2.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/ca4b413b104171a1.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/2ec2d810ee62b2fc.css" data-precedence="next"/><link rel="preload" href="/_next/static/chunks/webpack-3a06e844c427f1bf.js" as="script"/><link rel="preload" href="/_next/static/chunks/bce60fc1-ace986fa93a43fca.js" as="script"/><link rel="preload" href="/_next/static/chunks/698-2449c10902a17a12.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-app-c80434bea5bfbc16.js" as="script"/><title>Create Next App</title><meta name="description" content="Generated by create next app"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="any"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body style="margin-left:auto;margin-right:auto;max-width:49rem;padding:0px 1.3125rem" class="__className_135483"><nav class="Navbar_navbar__fk_p7"><a href="/"> Home </a><a href="/about"> About </a></nav><main class="Layout_main__luTTh"><article class="Post_blogPost__gpu0n"><header><h1 class="__className_cabfd8">Change Stash&#x27;s default avatar to username initials</h1><p class="Post_meta__oz6mK">Published <span>21 Nov 2018</span> <!-- -->Â· tagged with<!-- --> <a class="PostTags_tag__ommYO" href="?tag=tampermonkey">tampermonkey</a></p></header><div class="markdown-body"><html><head></head><body><p dir="auto">If you are using Atlassian's Stash at work, you must be annoyed by so many co-workers using the default avatar, which makes it so different to recognize different users. And you just couldn't ask them all to upload an avatar!</p>
<p dir="auto">So here I write a small <a href="https://tampermonkey.net/" rel="nofollow">tampermonkey</a> script to change the default avatar to their name initials.</p>
<div class="highlight highlight-source-js notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="const styleEl = document.createElement('style');
document.head.appendChild(styleEl);
styleEl.sheet.insertRule('.aui-avatar-inner { background-color: lightgray; color: white; font-weight: 700; line-height: 32px; }', 0);
styleEl.sheet.insertRule('.aui-avatar-small .aui-avatar-inner { line-height: 24px; }', 0);

const observer = new MutationObserver(function(mutations) {
    document.querySelectorAll('img[src^=&quot;https://secure.gravatar.com&quot;]').forEach((img) => {
        const parent = img.parentElement;
        const initials = img.alt.split(' ').map(s=>s[0]).join('');
        parent.textContent = initials;
    })
})
observer.observe(document, { childList: true, subtree: true });"><pre class="notranslate"><span class="pl-k">const</span> <span class="pl-s1">styleEl</span> <span class="pl-c1">=</span> <span class="pl-smi">document</span><span class="pl-kos">.</span><span class="pl-en">createElement</span><span class="pl-kos">(</span><span class="pl-s">'style'</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
<span class="pl-smi">document</span><span class="pl-kos">.</span><span class="pl-c1">head</span><span class="pl-kos">.</span><span class="pl-en">appendChild</span><span class="pl-kos">(</span><span class="pl-s1">styleEl</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
<span class="pl-s1">styleEl</span><span class="pl-kos">.</span><span class="pl-c1">sheet</span><span class="pl-kos">.</span><span class="pl-en">insertRule</span><span class="pl-kos">(</span><span class="pl-s">'.aui-avatar-inner { background-color: lightgray; color: white; font-weight: 700; line-height: 32px; }'</span><span class="pl-kos">,</span> <span class="pl-c1">0</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
<span class="pl-s1">styleEl</span><span class="pl-kos">.</span><span class="pl-c1">sheet</span><span class="pl-kos">.</span><span class="pl-en">insertRule</span><span class="pl-kos">(</span><span class="pl-s">'.aui-avatar-small .aui-avatar-inner { line-height: 24px; }'</span><span class="pl-kos">,</span> <span class="pl-c1">0</span><span class="pl-kos">)</span><span class="pl-kos">;</span>

<span class="pl-k">const</span> <span class="pl-s1">observer</span> <span class="pl-c1">=</span> <span class="pl-k">new</span> <span class="pl-v">MutationObserver</span><span class="pl-kos">(</span><span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-s1">mutations</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-smi">document</span><span class="pl-kos">.</span><span class="pl-en">querySelectorAll</span><span class="pl-kos">(</span><span class="pl-s">'img[src^="https://secure.gravatar.com"]'</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">forEach</span><span class="pl-kos">(</span><span class="pl-kos">(</span><span class="pl-s1">img</span><span class="pl-kos">)</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span>
        <span class="pl-k">const</span> <span class="pl-s1">parent</span> <span class="pl-c1">=</span> <span class="pl-s1">img</span><span class="pl-kos">.</span><span class="pl-c1">parentElement</span><span class="pl-kos">;</span>
        <span class="pl-k">const</span> <span class="pl-s1">initials</span> <span class="pl-c1">=</span> <span class="pl-s1">img</span><span class="pl-kos">.</span><span class="pl-c1">alt</span><span class="pl-kos">.</span><span class="pl-en">split</span><span class="pl-kos">(</span><span class="pl-s">' '</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">map</span><span class="pl-kos">(</span><span class="pl-s1">s</span><span class="pl-c1">=&gt;</span><span class="pl-s1">s</span><span class="pl-kos">[</span><span class="pl-c1">0</span><span class="pl-kos">]</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">join</span><span class="pl-kos">(</span><span class="pl-s">''</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-s1">parent</span><span class="pl-kos">.</span><span class="pl-c1">textContent</span> <span class="pl-c1">=</span> <span class="pl-s1">initials</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span><span class="pl-kos">)</span>
<span class="pl-kos">}</span><span class="pl-kos">)</span>
<span class="pl-s1">observer</span><span class="pl-kos">.</span><span class="pl-en">observe</span><span class="pl-kos">(</span><span class="pl-smi">document</span><span class="pl-kos">,</span> <span class="pl-kos">{</span> <span class="pl-c1">childList</span>: <span class="pl-c1">true</span><span class="pl-kos">,</span> <span class="pl-c1">subtree</span>: <span class="pl-c1">true</span> <span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span></pre></div>
<p dir="auto">Before:<br>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://user-images.githubusercontent.com/4188573/48832106-5ffac900-edb3-11e8-965f-b8236c82f504.png"><img src="https://user-images.githubusercontent.com/4188573/48832106-5ffac900-edb3-11e8-965f-b8236c82f504.png" alt="image" style="max-width: 100%;"></a><br>
After:<br>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://user-images.githubusercontent.com/4188573/48832143-7012a880-edb3-11e8-9c59-1b13a7b54bc2.png"><img src="https://user-images.githubusercontent.com/4188573/48832143-7012a880-edb3-11e8-9c59-1b13a7b54bc2.png" alt="image" style="max-width: 100%;"></a></p>
<p dir="auto">Surely it would be much better if we could just use css without javascript. However,  <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:has" rel="nofollow"><code class="notranslate">:has()</code></a> pseudo-class is still can not be used within stylesheets but only with functions like document.querySelector().</p>
<p dir="auto">And the <code class="notranslate">MutationObserver</code> used here is much faster than the conventional <code class="notranslate">DOMNodeInserted</code> event. Just a reminder, in real life, a proper debounce to the callback is much appropriate here!</p>
<hr>
<p dir="auto">Update:</p>
<p dir="auto">Just saw a brilliant way to detect DOM Node Insertion without using MutationObserver: <a href="https://davidwalsh.name/detect-node-insertion" rel="nofollow">Detect DOM Node Insertions with JavaScript and CSS Animations</a>. So I updated the script as this:</p>
<div class="highlight highlight-source-js notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="let insertionObserver = function(selector, callback) {
  const styleEl = document.createElement('style');
  document.head.appendChild(styleEl);
  const KeyframeName = 'insertionObserver';
  const keyframesRule = `@keyframes ${KeyframeName} { from { opacity: 0.99; } to { opacity: 1; } }`;
  const styleRule = `${selector} { animation-duration: 0.001s; animation-name: ${KeyframeName}; }`;

  styleEl.sheet.insertRule(keyframesRule);
  styleEl.sheet.insertRule(styleRule);

  document.addEventListener('animationstart', (event) => {
    if (event.animationName === KeyframeName) {
      callback(event);
    }
  }, false);
}

insertionObserver('.aui-avatar-inner img[src^=&quot;https://secure.gravatar.com&quot;]', (event) => {
  let img = event.target;
  const parent = img.parentElement;
  const initials = img.alt.split(' ').map(s=>s[0]).join('');
  const height = getComputedStyle(parent).height;
  parent.setAttribute(&quot;style&quot;, `background-color: lightgray; color: white; line-height: ${height}`);
  parent.textContent = initials;
});"><pre class="notranslate"><span class="pl-k">let</span> <span class="pl-en">insertionObserver</span> <span class="pl-c1">=</span> <span class="pl-k">function</span><span class="pl-kos">(</span><span class="pl-s1">selector</span><span class="pl-kos">,</span> <span class="pl-s1">callback</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
  <span class="pl-k">const</span> <span class="pl-s1">styleEl</span> <span class="pl-c1">=</span> <span class="pl-smi">document</span><span class="pl-kos">.</span><span class="pl-en">createElement</span><span class="pl-kos">(</span><span class="pl-s">'style'</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
  <span class="pl-smi">document</span><span class="pl-kos">.</span><span class="pl-c1">head</span><span class="pl-kos">.</span><span class="pl-en">appendChild</span><span class="pl-kos">(</span><span class="pl-s1">styleEl</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
  <span class="pl-k">const</span> <span class="pl-v">KeyframeName</span> <span class="pl-c1">=</span> <span class="pl-s">'insertionObserver'</span><span class="pl-kos">;</span>
  <span class="pl-k">const</span> <span class="pl-s1">keyframesRule</span> <span class="pl-c1">=</span> <span class="pl-s">`@keyframes <span class="pl-s1"><span class="pl-kos">${</span><span class="pl-v">KeyframeName</span><span class="pl-kos">}</span></span> { from { opacity: 0.99; } to { opacity: 1; } }`</span><span class="pl-kos">;</span>
  <span class="pl-k">const</span> <span class="pl-s1">styleRule</span> <span class="pl-c1">=</span> <span class="pl-s">`<span class="pl-s1"><span class="pl-kos">${</span><span class="pl-s1">selector</span><span class="pl-kos">}</span></span> { animation-duration: 0.001s; animation-name: <span class="pl-s1"><span class="pl-kos">${</span><span class="pl-v">KeyframeName</span><span class="pl-kos">}</span></span>; }`</span><span class="pl-kos">;</span>

  <span class="pl-s1">styleEl</span><span class="pl-kos">.</span><span class="pl-c1">sheet</span><span class="pl-kos">.</span><span class="pl-en">insertRule</span><span class="pl-kos">(</span><span class="pl-s1">keyframesRule</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
  <span class="pl-s1">styleEl</span><span class="pl-kos">.</span><span class="pl-c1">sheet</span><span class="pl-kos">.</span><span class="pl-en">insertRule</span><span class="pl-kos">(</span><span class="pl-s1">styleRule</span><span class="pl-kos">)</span><span class="pl-kos">;</span>

  <span class="pl-smi">document</span><span class="pl-kos">.</span><span class="pl-en">addEventListener</span><span class="pl-kos">(</span><span class="pl-s">'animationstart'</span><span class="pl-kos">,</span> <span class="pl-kos">(</span><span class="pl-s1">event</span><span class="pl-kos">)</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span>
    <span class="pl-k">if</span> <span class="pl-kos">(</span><span class="pl-s1">event</span><span class="pl-kos">.</span><span class="pl-c1">animationName</span> <span class="pl-c1">===</span> <span class="pl-v">KeyframeName</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
      <span class="pl-s1">callback</span><span class="pl-kos">(</span><span class="pl-s1">event</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span>
  <span class="pl-kos">}</span><span class="pl-kos">,</span> <span class="pl-c1">false</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
<span class="pl-kos">}</span>

<span class="pl-en">insertionObserver</span><span class="pl-kos">(</span><span class="pl-s">'.aui-avatar-inner img[src^="https://secure.gravatar.com"]'</span><span class="pl-kos">,</span> <span class="pl-kos">(</span><span class="pl-s1">event</span><span class="pl-kos">)</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span>
  <span class="pl-k">let</span> <span class="pl-s1">img</span> <span class="pl-c1">=</span> <span class="pl-s1">event</span><span class="pl-kos">.</span><span class="pl-c1">target</span><span class="pl-kos">;</span>
  <span class="pl-k">const</span> <span class="pl-s1">parent</span> <span class="pl-c1">=</span> <span class="pl-s1">img</span><span class="pl-kos">.</span><span class="pl-c1">parentElement</span><span class="pl-kos">;</span>
  <span class="pl-k">const</span> <span class="pl-s1">initials</span> <span class="pl-c1">=</span> <span class="pl-s1">img</span><span class="pl-kos">.</span><span class="pl-c1">alt</span><span class="pl-kos">.</span><span class="pl-en">split</span><span class="pl-kos">(</span><span class="pl-s">' '</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">map</span><span class="pl-kos">(</span><span class="pl-s1">s</span><span class="pl-c1">=&gt;</span><span class="pl-s1">s</span><span class="pl-kos">[</span><span class="pl-c1">0</span><span class="pl-kos">]</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">join</span><span class="pl-kos">(</span><span class="pl-s">''</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
  <span class="pl-k">const</span> <span class="pl-s1">height</span> <span class="pl-c1">=</span> <span class="pl-en">getComputedStyle</span><span class="pl-kos">(</span><span class="pl-s1">parent</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-c1">height</span><span class="pl-kos">;</span>
  <span class="pl-s1">parent</span><span class="pl-kos">.</span><span class="pl-en">setAttribute</span><span class="pl-kos">(</span><span class="pl-s">"style"</span><span class="pl-kos">,</span> <span class="pl-s">`background-color: lightgray; color: white; line-height: <span class="pl-s1"><span class="pl-kos">${</span><span class="pl-s1">height</span><span class="pl-kos">}</span></span>`</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
  <span class="pl-s1">parent</span><span class="pl-kos">.</span><span class="pl-c1">textContent</span> <span class="pl-c1">=</span> <span class="pl-s1">initials</span><span class="pl-kos">;</span>
<span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span></pre></div>
<p dir="auto">Maybe it's time to create a repo to for these little helper functions, as my arsenal..</p></body></html></div></article></main><footer class="Layout_footer__U3vTh"><hr/><small>Â© <!-- -->2023<!-- --> Ken Bi. Powered by<!-- --> <a href="https://github.com/bpceee/isblog" rel="noopener noreferrer" target="_blank">isBlog</a></small></footer><script src="/_next/static/chunks/webpack-3a06e844c427f1bf.js" async=""></script><script src="/_next/static/chunks/bce60fc1-ace986fa93a43fca.js" async=""></script><script src="/_next/static/chunks/698-2449c10902a17a12.js" async=""></script><script src="/_next/static/chunks/main-app-c80434bea5bfbc16.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/710e6adf42e8fe6f-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/7b379c56c483b024-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/media/7b9ca6a1d31c5662-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n4:HL[\"/_next/static/media/931105f8d96e7f26-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n5:HL[\"/_next/static/media/d9957a565b52891d-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n6:HL[\"/_next/static/media/fbdbe464b9e5cc95-s.p.woff2\",{\"as\":\"font\","])</script><script>self.__next_f.push([1,"\"type\":\"font/woff2\"}]\n7:HL[\"/_next/static/css/b626e9f17e6ac9d2.css\",{\"as\":\"style\"}]\n0:\"$L8\"\n"])</script><script>self.__next_f.push([1,"9:HL[\"/_next/static/media/1060bab20f18b5c2-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\na:HL[\"/_next/static/css/ca4b413b104171a1.css\",{\"as\":\"style\"}]\nb:HL[\"/_next/static/css/2ec2d810ee62b2fc.css\",{\"as\":\"style\"}]\n"])</script><script>self.__next_f.push([1,"c:I{\"id\":2353,\"chunks\":[\"272:static/chunks/webpack-3a06e844c427f1bf.js\",\"253:static/chunks/bce60fc1-ace986fa93a43fca.js\",\"698:static/chunks/698-2449c10902a17a12.js\"],\"name\":\"default\",\"async\":false}\ne:I{\"id\":7330,\"chunks\":[\"272:static/chunks/webpack-3a06e844c427f1bf.js\",\"253:static/chunks/bce60fc1-ace986fa93a43fca.js\",\"698:static/chunks/698-2449c10902a17a12.js\"],\"name\":\"\",\"async\":false}\nf:I{\"id\":7095,\"chunks\":[\"95:static/chunks/95-072377135f6d2de2.js\",\"333:static/chunks/app/posts/[slug]/page-0bfaa8c323995a53"])</script><script>self.__next_f.push([1,".js\"],\"name\":\"\",\"async\":false}\n11:I{\"id\":9180,\"chunks\":[\"272:static/chunks/webpack-3a06e844c427f1bf.js\",\"253:static/chunks/bce60fc1-ace986fa93a43fca.js\",\"698:static/chunks/698-2449c10902a17a12.js\"],\"name\":\"default\",\"async\":false}\n12:I{\"id\":2306,\"chunks\":[\"272:static/chunks/webpack-3a06e844c427f1bf.js\",\"253:static/chunks/bce60fc1-ace986fa93a43fca.js\",\"698:static/chunks/698-2449c10902a17a12.js\"],\"name\":\"default\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"8:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/b626e9f17e6ac9d2.css\",\"precedence\":\"next\"}]],[\"$\",\"$Lc\",null,{\"buildId\":\"LVnsdNAPuWEDeDgdgWYW8\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/posts/2\",\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"2\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"2\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[\"$Ld\",[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\"}]],\"globalErrorComponent\":\"$e\",\"notFound\":[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"style\":{\"marginLeft\":\"auto\",\"marginRight\":\"auto\",\"maxWidth\":\"49rem\",\"padding\":\"0px 1.3125rem\"},\"className\":\"__className_135483\",\"children\":[[\"$\",\"nav\",null,{\"className\":\"Navbar_navbar__fk_p7\",\"children\":[[\"$\",\"$Lf\",null,{\"href\":\"/\",\"children\":\" Home \"}],[\"$\",\"$Lf\",null,{\"href\":\"/about\",\"children\":\" About \"}]]}],[\"$\",\"main\",null,{\"className\":\"Layout_main__luTTh\",\"children\":[\"$L10\",\"$undefined\",[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]]}],[\"$\",\"footer\",null,{\"className\":\"Layout_footer__U3vTh\",\"children\":[[\"$\",\"hr\",null,{}],[\"$\",\"small\",null,{\"children\":[\"Â© \",2023,\" Ken Bi. Powered by\",\" \",[\"$\",\"a\",null,{\"href\":\"https://github.com/bpceee/isblog\",\"rel\":\"noopener noreferrer\",\"target\":\"_blank\",\"children\":\"isBlog\"}]]}]]}]]}]}],\"asNotFound\":false,\"children\":[[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"style\":{\"marginLeft\":\"auto\",\"marginRight\":\"auto\",\"maxWidth\":\"49rem\",\"padding\":\"0px 1.3125rem\"},\"className\":\"__className_135483\",\"children\":[[\"$\",\"nav\",null,{\"className\":\"Navbar_navbar__fk_p7\",\"children\":[[\"$\",\"$Lf\",null,{\"href\":\"/\",\"children\":\" Home \"}],[\"$\",\"$Lf\",null,{\"href\":\"/about\",\"children\":\" About \"}]]}],[\"$\",\"main\",null,{\"className\":\"Layout_main__luTTh\",\"children\":[\"$\",\"$L11\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$L12\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$L11\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$L12\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$L11\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",[\"slug\",\"2\",\"d\"],\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$L12\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$L13\",null],\"segment\":\"__PAGE__?{\\\"slug\\\":\\\"2\\\"}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/ca4b413b104171a1.css\",\"precedence\":\"next\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/2ec2d810ee62b2fc.css\",\"precedence\":\"next\"}]]}],\"segment\":[\"slug\",\"2\",\"d\"]},\"styles\":[]}],\"segment\":\"posts\"},\"styles\":[]}]}],[\"$\",\"footer\",null,{\"className\":\"Layout_footer__U3vTh\",\"children\":[[\"$\",\"hr\",null,{}],[\"$\",\"small\",null,{\"children\":[\"Â© \",2023,\" Ken Bi. Powered by\",\" \",[\"$\",\"a\",null,{\"href\":\"https://github.com/bpceee/isblog\",\"rel\":\"noopener noreferrer\",\"target\":\"_blank\",\"children\":\"isBlog\"}]]}]]}]]}]}],null]}]]\n"])</script><script>self.__next_f.push([1,"10:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nd:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Create Next App\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"Generated by create next app\"}],[\"$\",\"meta\",\"3\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"any\"}]]\n"])</script><script>self.__next_f.push([1,"15:I{\"id\":5282,\"chunks\":[\"95:static/chunks/95-072377135f6d2de2.js\",\"333:static/chunks/app/posts/[slug]/page-0bfaa8c323995a53.js\"],\"name\":\"Utterance\",\"async\":false}\n14:T38c5,"])</script><script>self.__next_f.push([1,"\u003chtml\u003e\u003chead\u003e\u003c/head\u003e\u003cbody\u003e\u003cp dir=\"auto\"\u003eIf you are using Atlassian's Stash at work, you must be annoyed by so many co-workers using the default avatar, which makes it so different to recognize different users. And you just couldn't ask them all to upload an avatar!\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eSo here I write a small \u003ca href=\"https://tampermonkey.net/\" rel=\"nofollow\"\u003etampermonkey\u003c/a\u003e script to change the default avatar to their name initials.\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const styleEl = document.createElement('style');\ndocument.head.appendChild(styleEl);\nstyleEl.sheet.insertRule('.aui-avatar-inner { background-color: lightgray; color: white; font-weight: 700; line-height: 32px; }', 0);\nstyleEl.sheet.insertRule('.aui-avatar-small .aui-avatar-inner { line-height: 24px; }', 0);\n\nconst observer = new MutationObserver(function(mutations) {\n    document.querySelectorAll('img[src^=\u0026quot;https://secure.gravatar.com\u0026quot;]').forEach((img) =\u003e {\n        const parent = img.parentElement;\n        const initials = img.alt.split(' ').map(s=\u003es[0]).join('');\n        parent.textContent = initials;\n    })\n})\nobserver.observe(document, { childList: true, subtree: true });\"\u003e\u003cpre class=\"notranslate\"\u003e\u003cspan class=\"pl-k\"\u003econst\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003estyleEl\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003edocument\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003ecreateElement\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e'style'\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003edocument\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003ehead\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003eappendChild\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s1\"\u003estyleEl\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n\u003cspan class=\"pl-s1\"\u003estyleEl\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003esheet\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003einsertRule\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e'.aui-avatar-inner { background-color: lightgray; color: white; font-weight: 700; line-height: 32px; }'\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e,\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e0\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n\u003cspan class=\"pl-s1\"\u003estyleEl\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003esheet\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003einsertRule\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e'.aui-avatar-small .aui-avatar-inner { line-height: 24px; }'\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e,\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e0\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"pl-k\"\u003econst\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eobserver\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-k\"\u003enew\u003c/span\u003e \u003cspan class=\"pl-v\"\u003eMutationObserver\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s1\"\u003emutations\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e \u003cspan class=\"pl-kos\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"pl-smi\"\u003edocument\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003equerySelectorAll\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e'img[src^=\"https://secure.gravatar.com\"]'\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003eforEach\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s1\"\u003eimg\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"pl-kos\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"pl-k\"\u003econst\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eparent\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eimg\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003eparentElement\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"pl-k\"\u003econst\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003einitials\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eimg\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003ealt\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003esplit\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e' '\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003emap\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s1\"\u003es\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan class=\"pl-s1\"\u003es\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e[\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003e0\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e]\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003ejoin\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e''\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"pl-s1\"\u003eparent\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003etextContent\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003einitials\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"pl-kos\"\u003e}\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\n\u003cspan class=\"pl-kos\"\u003e}\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\n\u003cspan class=\"pl-s1\"\u003eobserver\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003eobserve\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003edocument\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e,\u003c/span\u003e \u003cspan class=\"pl-kos\"\u003e{\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003echildList\u003c/span\u003e: \u003cspan class=\"pl-c1\"\u003etrue\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e,\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003esubtree\u003c/span\u003e: \u003cspan class=\"pl-c1\"\u003etrue\u003c/span\u003e \u003cspan class=\"pl-kos\"\u003e}\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eBefore:\u003cbr\u003e\n\u003ca target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://user-images.githubusercontent.com/4188573/48832106-5ffac900-edb3-11e8-965f-b8236c82f504.png\"\u003e\u003cimg src=\"https://user-images.githubusercontent.com/4188573/48832106-5ffac900-edb3-11e8-965f-b8236c82f504.png\" alt=\"image\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\u003cbr\u003e\nAfter:\u003cbr\u003e\n\u003ca target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://user-images.githubusercontent.com/4188573/48832143-7012a880-edb3-11e8-9c59-1b13a7b54bc2.png\"\u003e\u003cimg src=\"https://user-images.githubusercontent.com/4188573/48832143-7012a880-edb3-11e8-9c59-1b13a7b54bc2.png\" alt=\"image\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eSurely it would be much better if we could just use css without javascript. However,  \u003ca href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/:has\" rel=\"nofollow\"\u003e\u003ccode class=\"notranslate\"\u003e:has()\u003c/code\u003e\u003c/a\u003e pseudo-class is still can not be used within stylesheets but only with functions like document.querySelector().\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eAnd the \u003ccode class=\"notranslate\"\u003eMutationObserver\u003c/code\u003e used here is much faster than the conventional \u003ccode class=\"notranslate\"\u003eDOMNodeInserted\u003c/code\u003e event. Just a reminder, in real life, a proper debounce to the callback is much appropriate here!\u003c/p\u003e\n\u003chr\u003e\n\u003cp dir=\"auto\"\u003eUpdate:\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eJust saw a brilliant way to detect DOM Node Insertion without using MutationObserver: \u003ca href=\"https://davidwalsh.name/detect-node-insertion\" rel=\"nofollow\"\u003eDetect DOM Node Insertions with JavaScript and CSS Animations\u003c/a\u003e. So I updated the script as this:\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"let insertionObserver = function(selector, callback) {\n  const styleEl = document.createElement('style');\n  document.head.appendChild(styleEl);\n  const KeyframeName = 'insertionObserver';\n  const keyframesRule = `@keyframes ${KeyframeName} { from { opacity: 0.99; } to { opacity: 1; } }`;\n  const styleRule = `${selector} { animation-duration: 0.001s; animation-name: ${KeyframeName}; }`;\n\n  styleEl.sheet.insertRule(keyframesRule);\n  styleEl.sheet.insertRule(styleRule);\n\n  document.addEventListener('animationstart', (event) =\u003e {\n    if (event.animationName === KeyframeName) {\n      callback(event);\n    }\n  }, false);\n}\n\ninsertionObserver('.aui-avatar-inner img[src^=\u0026quot;https://secure.gravatar.com\u0026quot;]', (event) =\u003e {\n  let img = event.target;\n  const parent = img.parentElement;\n  const initials = img.alt.split(' ').map(s=\u003es[0]).join('');\n  const height = getComputedStyle(parent).height;\n  parent.setAttribute(\u0026quot;style\u0026quot;, `background-color: lightgray; color: white; line-height: ${height}`);\n  parent.textContent = initials;\n});\"\u003e\u003cpre class=\"notranslate\"\u003e\u003cspan class=\"pl-k\"\u003elet\u003c/span\u003e \u003cspan class=\"pl-en\"\u003einsertionObserver\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s1\"\u003eselector\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e,\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ecallback\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e \u003cspan class=\"pl-kos\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"pl-k\"\u003econst\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003estyleEl\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003edocument\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003ecreateElement\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e'style'\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"pl-smi\"\u003edocument\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003ehead\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003eappendChild\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s1\"\u003estyleEl\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"pl-k\"\u003econst\u003c/span\u003e \u003cspan class=\"pl-v\"\u003eKeyframeName\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e'insertionObserver'\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"pl-k\"\u003econst\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003ekeyframesRule\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e`@keyframes \u003cspan class=\"pl-s1\"\u003e\u003cspan class=\"pl-kos\"\u003e${\u003c/span\u003e\u003cspan class=\"pl-v\"\u003eKeyframeName\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e}\u003c/span\u003e\u003c/span\u003e { from { opacity: 0.99; } to { opacity: 1; } }`\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"pl-k\"\u003econst\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003estyleRule\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e`\u003cspan class=\"pl-s1\"\u003e\u003cspan class=\"pl-kos\"\u003e${\u003c/span\u003e\u003cspan class=\"pl-s1\"\u003eselector\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e}\u003c/span\u003e\u003c/span\u003e { animation-duration: 0.001s; animation-name: \u003cspan class=\"pl-s1\"\u003e\u003cspan class=\"pl-kos\"\u003e${\u003c/span\u003e\u003cspan class=\"pl-v\"\u003eKeyframeName\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e}\u003c/span\u003e\u003c/span\u003e; }`\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"pl-s1\"\u003estyleEl\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003esheet\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003einsertRule\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s1\"\u003ekeyframesRule\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"pl-s1\"\u003estyleEl\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003esheet\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003einsertRule\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s1\"\u003estyleRule\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"pl-smi\"\u003edocument\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003eaddEventListener\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e'animationstart'\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e,\u003c/span\u003e \u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s1\"\u003eevent\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"pl-kos\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e \u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s1\"\u003eevent\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003eanimationName\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e===\u003c/span\u003e \u003cspan class=\"pl-v\"\u003eKeyframeName\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e \u003cspan class=\"pl-kos\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"pl-s1\"\u003ecallback\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s1\"\u003eevent\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"pl-kos\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"pl-kos\"\u003e}\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e,\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003efalse\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n\u003cspan class=\"pl-kos\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"pl-en\"\u003einsertionObserver\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e'.aui-avatar-inner img[src^=\"https://secure.gravatar.com\"]'\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e,\u003c/span\u003e \u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s1\"\u003eevent\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"pl-kos\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"pl-k\"\u003elet\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eimg\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eevent\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003etarget\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"pl-k\"\u003econst\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eparent\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eimg\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003eparentElement\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"pl-k\"\u003econst\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003einitials\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eimg\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003ealt\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003esplit\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e' '\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003emap\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s1\"\u003es\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan class=\"pl-s1\"\u003es\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e[\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003e0\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e]\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003ejoin\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e''\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"pl-k\"\u003econst\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003eheight\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-en\"\u003egetComputedStyle\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s1\"\u003eparent\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003eheight\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"pl-s1\"\u003eparent\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-en\"\u003esetAttribute\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e(\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\"style\"\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e,\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e`background-color: lightgray; color: white; line-height: \u003cspan class=\"pl-s1\"\u003e\u003cspan class=\"pl-kos\"\u003e${\u003c/span\u003e\u003cspan class=\"pl-s1\"\u003eheight\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e}\u003c/span\u003e\u003c/span\u003e`\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"pl-s1\"\u003eparent\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e.\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003etextContent\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-s1\"\u003einitials\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\n\u003cspan class=\"pl-kos\"\u003e}\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e)\u003c/span\u003e\u003cspan class=\"pl-kos\"\u003e;\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eMaybe it's time to create a repo to for these little helper functions, as my arsenal..\u003c/p\u003e\u003c/body\u003e\u003c/html\u003e"])</script><script>self.__next_f.push([1,"13:[\"$\",\"article\",null,{\"className\":\"Post_blogPost__gpu0n\",\"children\":[[\"$\",\"header\",null,{\"children\":[[\"$\",\"h1\",null,{\"className\":\"__className_cabfd8\",\"children\":\"Change Stash's default avatar to username initials\"}],[\"$\",\"p\",null,{\"className\":\"Post_meta__oz6mK\",\"children\":[\"Published \",[\"$\",\"span\",null,{\"className\":\"$undefined\",\"children\":\"21 Nov 2018\"}],[\" \",\"Â· tagged with\",[[\" \",[\"$\",\"$Lf\",\"0\",{\"className\":\"PostTags_tag__ommYO\",\"href\":\"?tag=tampermonkey\",\"children\":\"tampermonkey\"}]]]]]}]]}],[\"$\",\"div\",null,{\"className\":\"markdown-body\",\"dangerouslySetInnerHTML\":{\"__html\":\"$14\"}}],[\"$\",\"$L15\",null,{\"postId\":2}]]}]\n"])</script></body></html>