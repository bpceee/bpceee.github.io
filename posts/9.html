<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="preload" as="font" href="/_next/static/media/710e6adf42e8fe6f-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/7b379c56c483b024-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/7b9ca6a1d31c5662-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/931105f8d96e7f26-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/d9957a565b52891d-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/fbdbe464b9e5cc95-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/1060bab20f18b5c2-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/02482d46f001465e.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/ca4b413b104171a1.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/2ec2d810ee62b2fc.css" data-precedence="next"/><link rel="preload" href="/_next/static/chunks/webpack-60e2e3ac064dc981.js" as="script"/><link rel="preload" href="/_next/static/chunks/bce60fc1-ace986fa93a43fca.js" as="script"/><link rel="preload" href="/_next/static/chunks/698-2449c10902a17a12.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-app-98776ef761aa1fbb.js" as="script"/><title>Create Next App</title><meta name="description" content="Generated by create next app"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="any"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body style="margin-left:auto;margin-right:auto;max-width:49rem;padding:0px 1.3125rem" class="__className_135483"><nav class="Navbar_navbar__fk_p7"><a href="/"> Home </a><a href="/about"> About </a></nav><main class="Layout_main__luTTh"><article class="Post_blogPost__gpu0n"><header><h1 class="__className_cabfd8">eval() versus new Function()</h1><p class="Post_meta__oz6mK">Published <span>12 Feb 2019</span></p></header><div class="markdown-body"><html><head></head><body><p dir="auto"><code class="notranslate">eval</code> and <code class="notranslate">new Function</code> are both ways to evaluates code dynamically in javascript.</p>
<p dir="auto">Obviously,<code class="notranslate">new Function</code> has a much clearer interface and should be the preferred way of doing this task.</p>
<p dir="auto">An easily neglected difference is that <code class="notranslate">new Function</code> execute in the global scope only, which means it won't create a closure. (<code class="notranslate">window.eval</code> also execute in the global scope)</p>
<p dir="auto">You might think using this trait can eliminate some heavy memory usage closure. Actually, if the variable to be captured in the closure will not be used, it won't be captured (At least in V8). So, thanks to modern JS engines, no need to do those tedious replacement..</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://user-images.githubusercontent.com/4188573/52566771-95103800-2e45-11e9-86d1-157ac4a03de4.png"><img src="https://user-images.githubusercontent.com/4188573/52566771-95103800-2e45-11e9-86d1-157ac4a03de4.png" alt="image" style="max-width: 100%;"></a></p></body></html></div></article></main><footer class="Layout_footer__U3vTh"><hr/><small>© <!-- -->2023<!-- --> Ken Bi. Powered by<!-- --> <a href="https://github.com/bpceee/isblog" rel="noopener noreferrer" target="_blank">isBlog</a></small></footer><script src="/_next/static/chunks/webpack-60e2e3ac064dc981.js" async=""></script><script src="/_next/static/chunks/bce60fc1-ace986fa93a43fca.js" async=""></script><script src="/_next/static/chunks/698-2449c10902a17a12.js" async=""></script><script src="/_next/static/chunks/main-app-98776ef761aa1fbb.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/710e6adf42e8fe6f-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/7b379c56c483b024-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/media/7b9ca6a1d31c5662-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n4:HL[\"/_next/static/media/931105f8d96e7f26-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n5:HL[\"/_next/static/media/d9957a565b52891d-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n6:HL[\"/_next/static/media/fbdbe464b9e5cc95-s.p.woff2\",{\"as\":\"font\","])</script><script>self.__next_f.push([1,"\"type\":\"font/woff2\"}]\n7:HL[\"/_next/static/css/02482d46f001465e.css\",{\"as\":\"style\"}]\n0:\"$L8\"\n"])</script><script>self.__next_f.push([1,"9:HL[\"/_next/static/media/1060bab20f18b5c2-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\na:HL[\"/_next/static/css/ca4b413b104171a1.css\",{\"as\":\"style\"}]\nb:HL[\"/_next/static/css/2ec2d810ee62b2fc.css\",{\"as\":\"style\"}]\n"])</script><script>self.__next_f.push([1,"c:I{\"id\":2353,\"chunks\":[\"272:static/chunks/webpack-60e2e3ac064dc981.js\",\"253:static/chunks/bce60fc1-ace986fa93a43fca.js\",\"698:static/chunks/698-2449c10902a17a12.js\"],\"name\":\"default\",\"async\":false}\ne:I{\"id\":7330,\"chunks\":[\"272:static/chunks/webpack-60e2e3ac064dc981.js\",\"253:static/chunks/bce60fc1-ace986fa93a43fca.js\",\"698:static/chunks/698-2449c10902a17a12.js\"],\"name\":\"\",\"async\":false}\nf:I{\"id\":7095,\"chunks\":[\"95:static/chunks/95-072377135f6d2de2.js\",\"333:static/chunks/app/posts/[slug]/page-33ce5b1ef4dcb760"])</script><script>self.__next_f.push([1,".js\"],\"name\":\"\",\"async\":false}\n11:I{\"id\":9180,\"chunks\":[\"272:static/chunks/webpack-60e2e3ac064dc981.js\",\"253:static/chunks/bce60fc1-ace986fa93a43fca.js\",\"698:static/chunks/698-2449c10902a17a12.js\"],\"name\":\"default\",\"async\":false}\n12:I{\"id\":2306,\"chunks\":[\"272:static/chunks/webpack-60e2e3ac064dc981.js\",\"253:static/chunks/bce60fc1-ace986fa93a43fca.js\",\"698:static/chunks/698-2449c10902a17a12.js\"],\"name\":\"default\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"8:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/02482d46f001465e.css\",\"precedence\":\"next\"}]],[\"$\",\"$Lc\",null,{\"buildId\":\"Iah88G3nAIjLhyehjRczq\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/posts/9\",\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"9\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"9\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[\"$Ld\",[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\"}]],\"globalErrorComponent\":\"$e\",\"notFound\":[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"style\":{\"marginLeft\":\"auto\",\"marginRight\":\"auto\",\"maxWidth\":\"49rem\",\"padding\":\"0px 1.3125rem\"},\"className\":\"__className_135483\",\"children\":[[\"$\",\"nav\",null,{\"className\":\"Navbar_navbar__fk_p7\",\"children\":[[\"$\",\"$Lf\",null,{\"href\":\"/\",\"children\":\" Home \"}],[\"$\",\"$Lf\",null,{\"href\":\"/about\",\"children\":\" About \"}]]}],[\"$\",\"main\",null,{\"className\":\"Layout_main__luTTh\",\"children\":[\"$L10\",\"$undefined\",[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]]}],[\"$\",\"footer\",null,{\"className\":\"Layout_footer__U3vTh\",\"children\":[[\"$\",\"hr\",null,{}],[\"$\",\"small\",null,{\"children\":[\"© \",2023,\" Ken Bi. Powered by\",\" \",[\"$\",\"a\",null,{\"href\":\"https://github.com/bpceee/isblog\",\"rel\":\"noopener noreferrer\",\"target\":\"_blank\",\"children\":\"isBlog\"}]]}]]}]]}]}],\"asNotFound\":false,\"children\":[[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"style\":{\"marginLeft\":\"auto\",\"marginRight\":\"auto\",\"maxWidth\":\"49rem\",\"padding\":\"0px 1.3125rem\"},\"className\":\"__className_135483\",\"children\":[[\"$\",\"nav\",null,{\"className\":\"Navbar_navbar__fk_p7\",\"children\":[[\"$\",\"$Lf\",null,{\"href\":\"/\",\"children\":\" Home \"}],[\"$\",\"$Lf\",null,{\"href\":\"/about\",\"children\":\" About \"}]]}],[\"$\",\"main\",null,{\"className\":\"Layout_main__luTTh\",\"children\":[\"$\",\"$L11\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$L12\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$L11\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$L12\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$L11\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",[\"slug\",\"9\",\"d\"],\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$L12\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$L13\",null],\"segment\":\"__PAGE__?{\\\"slug\\\":\\\"9\\\"}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/ca4b413b104171a1.css\",\"precedence\":\"next\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/2ec2d810ee62b2fc.css\",\"precedence\":\"next\"}]]}],\"segment\":[\"slug\",\"9\",\"d\"]},\"styles\":[]}],\"segment\":\"posts\"},\"styles\":[]}]}],[\"$\",\"footer\",null,{\"className\":\"Layout_footer__U3vTh\",\"children\":[[\"$\",\"hr\",null,{}],[\"$\",\"small\",null,{\"children\":[\"© \",2023,\" Ken Bi. Powered by\",\" \",[\"$\",\"a\",null,{\"href\":\"https://github.com/bpceee/isblog\",\"rel\":\"noopener noreferrer\",\"target\":\"_blank\",\"children\":\"isBlog\"}]]}]]}]]}]}],null]}]]\n"])</script><script>self.__next_f.push([1,"10:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nd:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Create Next App\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"Generated by create next app\"}],[\"$\",\"meta\",\"3\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"any\"}]]\n"])</script><script>self.__next_f.push([1,"15:I{\"id\":5282,\"chunks\":[\"95:static/chunks/95-072377135f6d2de2.js\",\"333:static/chunks/app/posts/[slug]/page-33ce5b1ef4dcb760.js\"],\"name\":\"Utterance\",\"async\":false}\n14:T4d0,"])</script><script>self.__next_f.push([1,"\u003chtml\u003e\u003chead\u003e\u003c/head\u003e\u003cbody\u003e\u003cp dir=\"auto\"\u003e\u003ccode class=\"notranslate\"\u003eeval\u003c/code\u003e and \u003ccode class=\"notranslate\"\u003enew Function\u003c/code\u003e are both ways to evaluates code dynamically in javascript.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eObviously,\u003ccode class=\"notranslate\"\u003enew Function\u003c/code\u003e has a much clearer interface and should be the preferred way of doing this task.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eAn easily neglected difference is that \u003ccode class=\"notranslate\"\u003enew Function\u003c/code\u003e execute in the global scope only, which means it won't create a closure. (\u003ccode class=\"notranslate\"\u003ewindow.eval\u003c/code\u003e also execute in the global scope)\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eYou might think using this trait can eliminate some heavy memory usage closure. Actually, if the variable to be captured in the closure will not be used, it won't be captured (At least in V8). So, thanks to modern JS engines, no need to do those tedious replacement..\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003ca target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://user-images.githubusercontent.com/4188573/52566771-95103800-2e45-11e9-86d1-157ac4a03de4.png\"\u003e\u003cimg src=\"https://user-images.githubusercontent.com/4188573/52566771-95103800-2e45-11e9-86d1-157ac4a03de4.png\" alt=\"image\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\u003c/p\u003e\u003c/body\u003e\u003c/html\u003e"])</script><script>self.__next_f.push([1,"13:[\"$\",\"article\",null,{\"className\":\"Post_blogPost__gpu0n\",\"children\":[[\"$\",\"header\",null,{\"children\":[[\"$\",\"h1\",null,{\"className\":\"__className_cabfd8\",\"children\":\"eval() versus new Function()\"}],[\"$\",\"p\",null,{\"className\":\"Post_meta__oz6mK\",\"children\":[\"Published \",[\"$\",\"span\",null,{\"className\":\"$undefined\",\"children\":\"12 Feb 2019\"}],false]}]]}],[\"$\",\"div\",null,{\"className\":\"markdown-body\",\"dangerouslySetInnerHTML\":{\"__html\":\"$14\"}}],[\"$\",\"$L15\",null,{\"postId\":9}]]}]\n"])</script></body></html>