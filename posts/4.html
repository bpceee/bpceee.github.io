<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="preload" as="font" href="/_next/static/media/710e6adf42e8fe6f-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/7b379c56c483b024-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/7b9ca6a1d31c5662-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/931105f8d96e7f26-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/d9957a565b52891d-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/fbdbe464b9e5cc95-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/1060bab20f18b5c2-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/da46ff90c46166be.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/ca4b413b104171a1.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/01cb1f6bc3109902.css" data-precedence="next"/><link rel="preload" href="/_next/static/chunks/webpack-cbdadafe7f767bfb.js" as="script"/><link rel="preload" href="/_next/static/chunks/bce60fc1-ace986fa93a43fca.js" as="script"/><link rel="preload" href="/_next/static/chunks/698-2449c10902a17a12.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-app-95b33d605423ddcb.js" as="script"/><title>Create Next App</title><meta name="description" content="Generated by create next app"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="any"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body style="margin-left:auto;margin-right:auto;max-width:49rem;padding:0px 1.3125rem" class="__className_135483"><nav class="Navbar_navbar__fk_p7"><a href="/"> Home </a><a href="/about"> About </a></nav><main class="Layout_main__luTTh"><article class="Post_blogPost__gpu0n"><header><h1 class="__className_cabfd8">Not everyday git tricks</h1><p class="Post_meta__oz6mK">Published <span>26 Nov 2018</span> <!-- -->· tagged with<!-- --> <a class="PostTags_tag__ommYO" href="?tag=git">git</a></p></header><div class="markdown-body"><html><head></head><body><h3 dir="auto">Empty a branch (delete all commit history)</h3>
<ol dir="auto">
<li><code class="notranslate">git checkout --orphan tmp</code></li>
<li><code class="notranslate">git rm -rf *</code></li>
<li><code class="notranslate">git commit --allow-empty -m "empty repo"</code></li>
<li><code class="notranslate">git branch -m master</code></li>
<li><code class="notranslate">git push -f origin master</code></li>
</ol>
<h3 dir="auto">Parallelize Development</h3>
<p dir="auto"><code class="notranslate">git worktree add ../new-worktree-dir some-existing-branch</code></p>
<p dir="auto">The folder <code class="notranslate">../new-worktree-dir</code> contains the same repo but on the <code class="notranslate">some-existing-branch</code>. They share the same <code class="notranslate">.git</code> directory, which makes it more convenient to switch to another branch and using a different environment.</p>
<h3 dir="auto">List all node_modules that are npm linked in current repo</h3>
<p dir="auto"><code class="notranslate">find node_modules -maxdepth 1 -type l -ls</code></p>
<h3 dir="auto">List all globally linked modules</h3>
<p dir="auto"><code class="notranslate">npm ls -g --depth=0 --link=true</code></p>
<h3 dir="auto">Unlink a npm linked module</h3>
<p dir="auto"><code class="notranslate">npm unlink --no-save module-name</code></p>
<h3 dir="auto">Remove all the untracked files</h3>
<p dir="auto"><code class="notranslate">git clean -f -d</code></p>
<h3 dir="auto">Search through history</h3>
<p dir="auto"><code class="notranslate">git log --patch  | less +/searching_string</code></p>
<h3 dir="auto">Stash with untracked</h3>
<p dir="auto"><code class="notranslate">git stash -u</code></p>
<h3 dir="auto">Interactively Stash Selected Parts of Files</h3>
<p dir="auto"><code class="notranslate">git stash -p</code></p>
<h3 dir="auto">Revert File to Previous Commit</h3>
<p dir="auto"><code class="notranslate">git checkout &lt;commit_hash&gt; -- &lt;file&gt;</code></p>
<h3 dir="auto">Ignore certain file in git without touching .gitignore</h3>
<p dir="auto"><code class="notranslate">git update-index --skip-worktree &lt;file&gt;</code><br>
<code class="notranslate">git update-index --no-skip-worktree &lt;file&gt;</code></p>
<h3 dir="auto">How to disable git gpg signing</h3>
<p dir="auto"><code class="notranslate">git config commit.gpgsign false</code></p></body></html></div></article></main><footer class="Layout_footer__U3vTh"><hr/><small>© <!-- -->2023<!-- --> Ken Bi. Powered by<!-- --> <a href="https://github.com/bpceee/isblog" rel="noopener noreferrer" target="_blank">isBlog</a></small></footer><script src="/_next/static/chunks/webpack-cbdadafe7f767bfb.js" async=""></script><script src="/_next/static/chunks/bce60fc1-ace986fa93a43fca.js" async=""></script><script src="/_next/static/chunks/698-2449c10902a17a12.js" async=""></script><script src="/_next/static/chunks/main-app-95b33d605423ddcb.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/710e6adf42e8fe6f-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/7b379c56c483b024-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/media/7b9ca6a1d31c5662-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n4:HL[\"/_next/static/media/931105f8d96e7f26-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n5:HL[\"/_next/static/media/d9957a565b52891d-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n6:HL[\"/_next/static/media/fbdbe464b9e5cc95-s.p.woff2\",{\"as\":\"font\","])</script><script>self.__next_f.push([1,"\"type\":\"font/woff2\"}]\n7:HL[\"/_next/static/css/da46ff90c46166be.css\",{\"as\":\"style\"}]\n0:\"$L8\"\n"])</script><script>self.__next_f.push([1,"9:HL[\"/_next/static/media/1060bab20f18b5c2-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\na:HL[\"/_next/static/css/ca4b413b104171a1.css\",{\"as\":\"style\"}]\nb:HL[\"/_next/static/css/01cb1f6bc3109902.css\",{\"as\":\"style\"}]\n"])</script><script>self.__next_f.push([1,"c:I{\"id\":2353,\"chunks\":[\"272:static/chunks/webpack-cbdadafe7f767bfb.js\",\"253:static/chunks/bce60fc1-ace986fa93a43fca.js\",\"698:static/chunks/698-2449c10902a17a12.js\"],\"name\":\"default\",\"async\":false}\ne:I{\"id\":7330,\"chunks\":[\"272:static/chunks/webpack-cbdadafe7f767bfb.js\",\"253:static/chunks/bce60fc1-ace986fa93a43fca.js\",\"698:static/chunks/698-2449c10902a17a12.js\"],\"name\":\"\",\"async\":false}\nf:I{\"id\":7095,\"chunks\":[\"95:static/chunks/95-072377135f6d2de2.js\",\"333:static/chunks/app/posts/[slug]/page-f66cb93eb7e955ba"])</script><script>self.__next_f.push([1,".js\"],\"name\":\"\",\"async\":false}\n11:I{\"id\":9180,\"chunks\":[\"272:static/chunks/webpack-cbdadafe7f767bfb.js\",\"253:static/chunks/bce60fc1-ace986fa93a43fca.js\",\"698:static/chunks/698-2449c10902a17a12.js\"],\"name\":\"default\",\"async\":false}\n12:I{\"id\":2306,\"chunks\":[\"272:static/chunks/webpack-cbdadafe7f767bfb.js\",\"253:static/chunks/bce60fc1-ace986fa93a43fca.js\",\"698:static/chunks/698-2449c10902a17a12.js\"],\"name\":\"default\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"8:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/da46ff90c46166be.css\",\"precedence\":\"next\"}]],[\"$\",\"$Lc\",null,{\"buildId\":\"vHjgv7TG_6lUCDXNOgE2T\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/posts/4\",\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"4\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"4\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[\"$Ld\",[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\"}]],\"globalErrorComponent\":\"$e\",\"notFound\":[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"style\":{\"marginLeft\":\"auto\",\"marginRight\":\"auto\",\"maxWidth\":\"49rem\",\"padding\":\"0px 1.3125rem\"},\"className\":\"__className_135483\",\"children\":[[\"$\",\"nav\",null,{\"className\":\"Navbar_navbar__fk_p7\",\"children\":[[\"$\",\"$Lf\",null,{\"href\":\"/\",\"children\":\" Home \"}],[\"$\",\"$Lf\",null,{\"href\":\"/about\",\"children\":\" About \"}]]}],[\"$\",\"main\",null,{\"className\":\"Layout_main__luTTh\",\"children\":[\"$L10\",\"$undefined\",[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]]}],[\"$\",\"footer\",null,{\"className\":\"Layout_footer__U3vTh\",\"children\":[[\"$\",\"hr\",null,{}],[\"$\",\"small\",null,{\"children\":[\"© \",2023,\" Ken Bi. Powered by\",\" \",[\"$\",\"a\",null,{\"href\":\"https://github.com/bpceee/isblog\",\"rel\":\"noopener noreferrer\",\"target\":\"_blank\",\"children\":\"isBlog\"}]]}]]}]]}]}],\"asNotFound\":false,\"children\":[[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"style\":{\"marginLeft\":\"auto\",\"marginRight\":\"auto\",\"maxWidth\":\"49rem\",\"padding\":\"0px 1.3125rem\"},\"className\":\"__className_135483\",\"children\":[[\"$\",\"nav\",null,{\"className\":\"Navbar_navbar__fk_p7\",\"children\":[[\"$\",\"$Lf\",null,{\"href\":\"/\",\"children\":\" Home \"}],[\"$\",\"$Lf\",null,{\"href\":\"/about\",\"children\":\" About \"}]]}],[\"$\",\"main\",null,{\"className\":\"Layout_main__luTTh\",\"children\":[\"$\",\"$L11\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$L12\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$L11\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$L12\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$L11\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",[\"slug\",\"4\",\"d\"],\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$L12\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$L13\",null],\"segment\":\"__PAGE__?{\\\"slug\\\":\\\"4\\\"}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/ca4b413b104171a1.css\",\"precedence\":\"next\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/01cb1f6bc3109902.css\",\"precedence\":\"next\"}]]}],\"segment\":[\"slug\",\"4\",\"d\"]},\"styles\":[]}],\"segment\":\"posts\"},\"styles\":[]}]}],[\"$\",\"footer\",null,{\"className\":\"Layout_footer__U3vTh\",\"children\":[[\"$\",\"hr\",null,{}],[\"$\",\"small\",null,{\"children\":[\"© \",2023,\" Ken Bi. Powered by\",\" \",[\"$\",\"a\",null,{\"href\":\"https://github.com/bpceee/isblog\",\"rel\":\"noopener noreferrer\",\"target\":\"_blank\",\"children\":\"isBlog\"}]]}]]}]]}]}],null]}]]\n"])</script><script>self.__next_f.push([1,"10:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nd:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Create Next App\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"Generated by create next app\"}],[\"$\",\"meta\",\"3\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"any\"}]]\n"])</script><script>self.__next_f.push([1,"15:I{\"id\":5282,\"chunks\":[\"95:static/chunks/95-072377135f6d2de2.js\",\"333:static/chunks/app/posts/[slug]/page-f66cb93eb7e955ba.js\"],\"name\":\"Utterance\",\"async\":false}\n14:T970,"])</script><script>self.__next_f.push([1,"\u003chtml\u003e\u003chead\u003e\u003c/head\u003e\u003cbody\u003e\u003ch3 dir=\"auto\"\u003eEmpty a branch (delete all commit history)\u003c/h3\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\u003ccode class=\"notranslate\"\u003egit checkout --orphan tmp\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode class=\"notranslate\"\u003egit rm -rf *\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode class=\"notranslate\"\u003egit commit --allow-empty -m \"empty repo\"\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode class=\"notranslate\"\u003egit branch -m master\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode class=\"notranslate\"\u003egit push -f origin master\u003c/code\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 dir=\"auto\"\u003eParallelize Development\u003c/h3\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode class=\"notranslate\"\u003egit worktree add ../new-worktree-dir some-existing-branch\u003c/code\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eThe folder \u003ccode class=\"notranslate\"\u003e../new-worktree-dir\u003c/code\u003e contains the same repo but on the \u003ccode class=\"notranslate\"\u003esome-existing-branch\u003c/code\u003e. They share the same \u003ccode class=\"notranslate\"\u003e.git\u003c/code\u003e directory, which makes it more convenient to switch to another branch and using a different environment.\u003c/p\u003e\n\u003ch3 dir=\"auto\"\u003eList all node_modules that are npm linked in current repo\u003c/h3\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode class=\"notranslate\"\u003efind node_modules -maxdepth 1 -type l -ls\u003c/code\u003e\u003c/p\u003e\n\u003ch3 dir=\"auto\"\u003eList all globally linked modules\u003c/h3\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode class=\"notranslate\"\u003enpm ls -g --depth=0 --link=true\u003c/code\u003e\u003c/p\u003e\n\u003ch3 dir=\"auto\"\u003eUnlink a npm linked module\u003c/h3\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode class=\"notranslate\"\u003enpm unlink --no-save module-name\u003c/code\u003e\u003c/p\u003e\n\u003ch3 dir=\"auto\"\u003eRemove all the untracked files\u003c/h3\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode class=\"notranslate\"\u003egit clean -f -d\u003c/code\u003e\u003c/p\u003e\n\u003ch3 dir=\"auto\"\u003eSearch through history\u003c/h3\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode class=\"notranslate\"\u003egit log --patch  | less +/searching_string\u003c/code\u003e\u003c/p\u003e\n\u003ch3 dir=\"auto\"\u003eStash with untracked\u003c/h3\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode class=\"notranslate\"\u003egit stash -u\u003c/code\u003e\u003c/p\u003e\n\u003ch3 dir=\"auto\"\u003eInteractively Stash Selected Parts of Files\u003c/h3\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode class=\"notranslate\"\u003egit stash -p\u003c/code\u003e\u003c/p\u003e\n\u003ch3 dir=\"auto\"\u003eRevert File to Previous Commit\u003c/h3\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode class=\"notranslate\"\u003egit checkout \u0026lt;commit_hash\u0026gt; -- \u0026lt;file\u0026gt;\u003c/code\u003e\u003c/p\u003e\n\u003ch3 dir=\"auto\"\u003eIgnore certain file in git without touching .gitignore\u003c/h3\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode class=\"notranslate\"\u003egit update-index --skip-worktree \u0026lt;file\u0026gt;\u003c/code\u003e\u003cbr\u003e\n\u003ccode class=\"notranslate\"\u003egit update-index --no-skip-worktree \u0026lt;file\u0026gt;\u003c/code\u003e\u003c/p\u003e\n\u003ch3 dir=\"auto\"\u003eHow to disable git gpg signing\u003c/h3\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode class=\"notranslate\"\u003egit config commit.gpgsign false\u003c/code\u003e\u003c/p\u003e\u003c/body\u003e\u003c/html\u003e"])</script><script>self.__next_f.push([1,"13:[\"$\",\"article\",null,{\"className\":\"Post_blogPost__gpu0n\",\"children\":[[\"$\",\"header\",null,{\"children\":[[\"$\",\"h1\",null,{\"className\":\"__className_cabfd8\",\"children\":\"Not everyday git tricks\"}],[\"$\",\"p\",null,{\"className\":\"Post_meta__oz6mK\",\"children\":[\"Published \",[\"$\",\"span\",null,{\"children\":\"26 Nov 2018\"}],[\" \",\"· tagged with\",[[\" \",[\"$\",\"$Lf\",\"0\",{\"className\":\"PostTags_tag__ommYO\",\"href\":\"?tag=git\",\"children\":\"git\"}]]]]]}]]}],[\"$\",\"div\",null,{\"className\":\"markdown-body\",\"dangerouslySetInnerHTML\":{\"__html\":\"$14\"}}],[\"$\",\"$L15\",null,{\"postId\":4}]]}]\n"])</script></body></html>